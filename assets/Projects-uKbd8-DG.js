import{j as e,a as y,p as j}from"./index-DZDQHokF.js";import{b as i}from"./vendor-Dd4J3GVN.js";const d=[{id:"security",name:"Security",icon:"ðŸ”’"},{id:"access-control",name:"Access Control",icon:"ðŸ”‘"},{id:"it",name:"Information Technology",icon:"ðŸ’»"},{id:"cctv",name:"CCTV",icon:"ðŸ“¹"},{id:"consultation",name:"Consultation",icon:"ðŸ“‹"},{id:"maintenance",name:"Routine Maintenance",icon:"ðŸ”§"},{id:"av",name:"Audio Visual",icon:"ðŸŽµ"},{id:"automation",name:"Automation",icon:"ðŸ¤–"},{id:"network",name:"Network Programming",icon:"ðŸŒ"},{id:"electrical",name:"Electrical Works",icon:"âš¡"},{id:"contractor",name:"Contractor",icon:"ðŸ‘·"},{id:"garden",name:"Garden Works",icon:"ðŸŒ¿"},{id:"lighting",name:"Electrical & Lighting",icon:"ðŸ’¡"}],m=[{id:1,name:"Office Security System",description:"Complete security system installation for main office building",status:"In Progress",category:"security"},{id:2,name:"Card Access System",description:"Installing card readers and access control systems",status:"Planning",category:"access-control"}],w=()=>{const[c,s]=i.useState(m),[x,u]=i.useState(!0),[g,a]=i.useState(null),[n,p]=i.useState("all"),[l,h]=i.useState("");if(i.useEffect(()=>{(async()=>{try{if(!y.getCurrentUser()){a("Authentication required"),u(!1);return}try{console.log("Fetching projects from API...");const o=await j.getAll();console.log("API Response:",o),o&&Array.isArray(o)?s(o):(console.log("API returned invalid data, using test data"),s(m)),a(null)}catch(o){console.error("Error loading projects from API:",o),console.log("Using test data as fallback"),s(m),a(null)}}catch(t){console.error("Error in authentication:",t),a(t.message||"Authentication failed")}finally{u(!1)}})()},[]),x)return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",fontSize:"1.2rem",color:"#22314a"},children:"Loading projects..."});if(g)return e.jsxs("div",{style:{padding:"2rem",color:"#dc3545",textAlign:"center"},children:["Error: ",g]});const f=c.filter(r=>(n==="all"||r.category===n)&&(r.name.toLowerCase().includes(l.toLowerCase())||r.description.toLowerCase().includes(l.toLowerCase())));return e.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("h1",{style:{color:"#22314a",margin:0},children:"Projects"}),e.jsx("button",{onClick:()=>console.log("New project clicked"),style:{background:"#22314a",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"4px",cursor:"pointer"},children:"New Project"})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:r=>h(r.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd",marginBottom:"1rem"}}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"1rem"},children:[e.jsx("button",{onClick:()=>p("all"),style:{background:n==="all"?"#22314a":"#f8f9fa",color:n==="all"?"white":"#22314a",border:"1px solid #22314a",padding:"0.5rem 1rem",borderRadius:"999px",cursor:"pointer",fontSize:"0.875rem"},children:"All Projects"}),d.map(r=>e.jsxs("button",{onClick:()=>p(r.id),style:{background:n===r.id?"#22314a":"#f8f9fa",color:n===r.id?"white":"#22314a",border:"1px solid #22314a",padding:"0.5rem 1rem",borderRadius:"999px",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{children:r.icon}),r.name]},r.id))]})]}),f.length>0?e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"2rem"},children:f.map(r=>e.jsxs("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e9ecef"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("span",{children:d.find(t=>t.id===r.category)?.icon}),e.jsx("span",{style:{background:"#e9ecef",color:"#6c757d",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem"},children:d.find(t=>t.id===r.category)?.name})]}),e.jsx("h3",{style:{color:"#22314a",marginBottom:"1rem"},children:r.name}),e.jsx("p",{style:{color:"#6c757d",marginBottom:"1rem"},children:r.description}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{background:b(r.status),color:"white",padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.875rem"},children:r.status}),e.jsx("button",{onClick:()=>console.log("View details clicked",r.id),style:{background:"none",border:"1px solid #22314a",color:"#22314a",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"View Details"})]})]},r.id))}):e.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"#f8f9fa",borderRadius:"8px",color:"#6c757d"},children:[e.jsx("h3",{children:"No projects found"}),e.jsx("p",{children:"Start by creating a new project or try a different search."})]})]})},b=c=>({"In Progress":"#0d6efd",Completed:"#198754","On Hold":"#ffc107",Cancelled:"#dc3545",Planning:"#6c757d"})[c]||"#6c757d";export{w as default};
