import{j as t,a as C,b as g,c as x,d as ue,e as pe}from"./index-24f6Ekkg.js";import{b as d}from"./vendor-DPLMwiL-.js";import{A as J,a as he}from"./AddressAutocomplete-BIXPKFBg.js";const ge=({open:u,title:D,message:S,onConfirm:P,onCancel:q})=>u?t.jsx("div",{className:"custom-modal-overlay",children:t.jsxs("div",{className:"custom-modal",children:[t.jsx("h3",{className:"custom-modal-title",children:D}),t.jsx("div",{className:"custom-modal-message",children:S}),t.jsxs("div",{className:"custom-modal-actions",children:[t.jsx("button",{className:"custom-modal-btn confirm",onClick:P,children:"Yes, Delete"}),t.jsx("button",{className:"custom-modal-btn cancel",onClick:q,children:"Cancel"})]})]})}):null,Z={"Personal Calendar":{color:"#F8C8DC",textColor:"#22314a"},"Business Calendar":{color:"#CDEAC0",textColor:"#22314a"},"Kids Sports & Events":{color:"#FDE2A7",textColor:"#22314a"},"Personal Sports & Events":{color:"#FFCFD2",textColor:"#22314a"},"Centre Com Computers":{color:"#D7C0FD",textColor:"#22314a"},Commerical:{color:"#C7D2FE",textColor:"#22314a"},"Daniel Allison":{color:"#BDE0FE",textColor:"#22314a"},"Jaki Lew":{color:"#CAF0F8",textColor:"#22314a"},"Krongold Family":{color:"#B8E0D2",textColor:"#22314a"},"Krongold Group":{color:"#FFE5B4",textColor:"#22314a"},"Office & Administration":{color:"#E3F2C1",textColor:"#22314a"},"Peter & Alla Lew":{color:"#F9E2AF",textColor:"#22314a"},"Remote Programming":{color:"#E4C1F9",textColor:"#22314a"},Residential:{color:"#F1F0FF",textColor:"#22314a"},"Rosie Lew":{color:"#FFD6E0",textColor:"#22314a"},"Stevie Lew":{color:"#FFEDC2",textColor:"#22314a"},"Supply & Demand":{color:"#D0F4DE",textColor:"#22314a"},"Training & Research":{color:"#C9E4DE",textColor:"#22314a"},"Travel Time":{color:"#EAD7BB",textColor:"#22314a"},"Website & Marketing":{color:"#E0E0E0",textColor:"#22314a"},"Precision Home Education":{color:"#CFE1F2",textColor:"#22314a"}},T=u=>Z[u]||{color:"#E0E0E0",textColor:"#000"},ve=()=>{const u="Australia/Sydney",[D,S]=d.useState(!1),[P,q]=d.useState(!0),[h,U]=d.useState("monthly"),[Q,f]=d.useState([]),[X,N]=d.useState([]),[R,k]=d.useState(null),[V,j]=d.useState(!1),[v,F]=d.useState(null),[m,_]=d.useState(new Date),[I,y]=d.useState([]),[ee,M]=d.useState(!1),[i,p]=d.useState({title:"",date:"",time:"",endTime:"",client:"",customerId:"",description:"",category:"",address:"",addressMeta:null}),[W,B]=d.useState(""),[te,E]=d.useState(!1),H=X.filter(e=>`${e.firstName} ${e.lastName}`.toLowerCase().includes(W.toLowerCase()));d.useEffect(()=>{(()=>{const a=C.isAuthenticated();S(a),q(!1)})()},[]);const A=e=>{if(!e.appointmentDate)return e;const a=new Date(e.appointmentDate),r=new Intl.DateTimeFormat("en-CA",{timeZone:u,year:"numeric",month:"2-digit",day:"2-digit"}).format(a),o=new Intl.DateTimeFormat("en-AU",{timeZone:u,hour:"2-digit",minute:"2-digit",hour12:!1}).format(a);let s=o;if(e.durationMinutes){const n=new Date(a.getTime()+e.durationMinutes*6e4);s=new Intl.DateTimeFormat("en-AU",{timeZone:u,hour:"2-digit",minute:"2-digit",hour12:!1}).format(n)}return{...e,time:o,endTime:s,date:r,appointmentDate:e.appointmentDate}};d.useEffect(()=>{D&&(async()=>{k(null);try{const a=await x.getAll(),o=(Array.isArray(a)?a:a.appointments||[]).map(A);f(o)}catch(a){console.error("Error loading appointments:",a),f([]);const r=a?.status===401?"Your session has expired. Please log in again to view appointments.":a?.message||"Failed to load appointments.";k({type:"error",message:r})}try{const a=await ue.getCalendarCustomers(),r=Array.isArray(a)?a:a.customers||[];N(r)}catch(a){if(console.error("Error loading customers (calendar endpoint):",a),a?.status===403)try{const r=await pe.getAll(),o=Array.isArray(r)?r:r.customers||[];N(o)}catch(r){console.error("Fallback customers load failed:",r),N([]);const o=C.getCurrentUser?.();(!o||o.role!=="admin"&&o.role!=="staff")&&k({type:"error",message:"You are logged in without admin/staff permissions. Customer list is hidden. Appointments can still be created by typing a client name, but dropdown requires admin/staff."})}else a?.status===401?(N([]),k({type:"error",message:"Your session has expired. Please log in again to load customers."})):N([])}try{const a=C.getCurrentUser?.();if(a&&(a.role==="admin"||a.role==="staff")){M(!0);const r=await g.getAll("?status=pending"),o=Array.isArray(r)?r:r.requests||[];y(o)}else y([])}catch(a){console.error("Error loading pending requests:",a),y([])}finally{M(!1)}})()},[D]),d.useEffect(()=>{const e=C.getCurrentUser?.();if(!(e&&(e.role==="admin"||e.role==="staff")))return;const a=setInterval(async()=>{try{const r=await g.getAll("?status=pending"),o=Array.isArray(r)?r:r.requests||[];y(o)}catch{}},6e4);return()=>clearInterval(a)},[]);const ae=async e=>{e.preventDefault(),console.log("Attempting to create appointment with data:",i);const a=z(i.time,i.endTime);if(isNaN(a)||a<15||a>480){alert("Duration must be between 15 and 480 minutes.");return}if(!i.customerId||isNaN(Number(i.customerId))||!Number.isInteger(Number(i.customerId))){alert("Please select a valid client from the dropdown.");return}const r=`${i.date}T${i.time}:00`,o=new Date(r),s={title:i.title,description:i.description||`Client: ${i.client}
Category: ${i.category}
Address: ${i.address}`,appointmentDate:o.toISOString(),durationMinutes:a,customerId:Number(i.customerId),address:i.address||"",category:i.category||""};i.addressMeta&&i.addressMeta.placeId&&(s.addressPlaceId=i.addressMeta.placeId,s.addressLat=i.addressMeta.lat,s.addressLng=i.addressMeta.lng,s.addressComponents=i.addressMeta.components),console.log("Appointment payload:",s),Object.keys(s).forEach(n=>{console.log(`${n}:`,s[n],"type:",typeof s[n])});try{const n=await x.create(s);console.log("Appointment created successfully:",n),p({title:"",date:"",time:"",endTime:"",client:"",customerId:"",description:"",category:"",address:"",addressMeta:null}),j(!1);const l=await x.getAll(),b=(Array.isArray(l)?l:l.appointments||[]).map(A);f(b),alert("Appointment added successfully!")}catch(n){let l="Failed to add appointment. ";n.response&&n.response.data&&n.response.data.error?(typeof n.response.data.error=="string"?l+=n.response.data.error:n.response.data.error.message?l+=n.response.data.error.message:l+=JSON.stringify(n.response.data.error),n.response.data.error.details&&(l+=`
Details:`,n.response.data.error.details.forEach(c=>{l+=`
- ${c.path}: ${c.msg} (value: ${c.value})`}))):n.message&&(l+=n.message),alert(l)}},z=(e,a)=>{const[r,o]=e.split(":").map(Number),[s,n]=a.split(":").map(Number),l=r*60+o;return s*60+n-l},w=e=>{const a=se(e);F(e.id),p(a),B(a.client||""),j(!0)},ne=async e=>{e.preventDefault();const a=`${i.date}T${i.time}:00`,r=new Date(a),o=z(i.time,i.endTime),s={title:i.title,description:i.description,appointmentDate:r.toISOString(),durationMinutes:o,customerId:Number(i.customerId),address:i.address||"",category:i.category||""};i.addressMeta&&i.addressMeta.placeId&&(s.addressPlaceId=i.addressMeta.placeId,s.addressLat=i.addressMeta.lat,s.addressLng=i.addressMeta.lng,s.addressComponents=i.addressMeta.components);try{await x.update(v,s),p({title:"",date:"",time:"",endTime:"",client:"",description:"",category:"",address:"",addressMeta:null}),F(null),j(!1);const n=await x.getAll(),c=(Array.isArray(n)?n:n.appointments||[]).map(A);f(c)}catch(n){console.error("Error updating appointment:",n),alert("Failed to update appointment. Please try again.")}},[Y,O]=d.useState({open:!1,id:null}),se=e=>{const a=e.client||(e.customer?`${e.customer.firstName||""} ${e.customer.lastName||""}`.trim():"")||"";return{title:e.title||"",date:e.date||"",time:e.time||"",endTime:e.endTime||"",client:a,customerId:e.customerId||e.customer?.id||"",description:e.description||"",category:e.category||"",address:e.address||"",addressMeta:null,id:e.id,appointmentDate:e.appointmentDate}},re=async e=>{O({open:!0,id:e})},ie=async()=>{const e=Y.id;O({open:!1,id:null});try{await x.delete(e);const a=await x.getAll(),o=(Array.isArray(a)?a:a.appointments||[]).map(A);f(o)}catch(a){console.error("Error deleting appointment:",a),alert("Failed to delete appointment. Please try again.")}},$=e=>{const a=new Intl.DateTimeFormat("en-CA",{timeZone:u,year:"numeric",month:"2-digit",day:"2-digit"}).format(e);return Q.filter(r=>r.date===a)},oe=()=>{const e=Number(new Intl.DateTimeFormat("en-US",{timeZone:u,year:"numeric"}).format(m)),a=Number(new Intl.DateTimeFormat("en-US",{timeZone:u,month:"numeric"}).format(m))-1,r=new Date(e,a,1),o=r.getDay();let s=new Date(r);s.setDate(s.getDate()-o);const n=[];for(let l=0;l<42;l++){const c=new Date(s);c.setDate(s.getDate()+l),n.push(c)}return n},le=()=>{const e=m.getDay(),a=new Date(m);a.setDate(m.getDate()-e);const r=[];for(let o=0;o<7;o++){const s=new Date(a);s.setDate(a.getDate()+o),r.push(s)}return r},K=e=>{const a=new Date(m);switch(h){case"monthly":a.setMonth(m.getMonth()+e);break;case"weekly":a.setDate(m.getDate()+e*7);break;case"daily":a.setDate(m.getDate()+e);break}_(a)},L=()=>{const e=[];for(let a=0;a<24;a++)for(let r=0;r<60;r+=15){const o=`${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`;e.push(o)}return e};return P?t.jsx("div",{className:"calendar-container",style:{minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("h2",{children:"Loading Calendar..."})}):D?t.jsxs("div",{className:"calendar-container",children:[t.jsxs("div",{className:"calendar-header",children:[t.jsx("h1",{className:"calendar-title",children:"Calendar Management"}),t.jsx("button",{className:"calendar-logout-btn",onClick:()=>{C.logout(),S(!1),window.location.href="/"},children:"Logout"})]}),R&&t.jsx("div",{className:`calendar-feedback ${R.type==="error"?"error":""}`,children:R.message}),t.jsxs("div",{className:"calendar-dashboard",children:[(()=>{const e=C.getCurrentUser?.();return e&&(e.role==="admin"||e.role==="staff")?t.jsxs("div",{className:"calendar-card",style:{width:"100%"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h3",{children:"Pending Appointment Requests"}),t.jsx("button",{className:"calendar-btn-secondary",type:"button",onClick:async()=>{try{M(!0);const a=await g.getAll("?status=pending"),r=Array.isArray(a)?a:a.requests||[];y(r)}finally{M(!1)}},children:"Refresh"})]}),ee?t.jsx("div",{style:{color:"#666"},children:"Loading..."}):I.length===0?t.jsx("div",{style:{color:"#666"},children:"No pending requests."}):t.jsxs("div",{style:{display:"grid",gap:8},children:[I.slice(0,5).map(a=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderTop:"1px solid #eee"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:600},children:a.title}),t.jsxs("div",{style:{fontSize:12,color:"#666"},children:[new Date(a.requestedDate).toLocaleString("en-AU"),a.address?` â€¢ ${a.address}`:""]})]}),t.jsxs("div",{style:{display:"flex",gap:6},children:[t.jsx("button",{className:"calendar-btn-secondary",type:"button",onClick:async()=>{try{await g.update(a.id,{status:"approved",createAppointment:!0});const r=await g.getAll("?status=pending"),o=Array.isArray(r)?r:r.requests||[];y(o);const s=await x.getAll(),n=Array.isArray(s)?s:s.appointments||[];f(n.map(A))}catch{alert("Failed to approve.")}},children:"Approve & Create"}),t.jsx("button",{className:"calendar-btn-secondary",type:"button",onClick:async()=>{try{await g.update(a.id,{status:"approved",createAppointment:!1});const r=await g.getAll("?status=pending"),o=Array.isArray(r)?r:r.requests||[];y(o)}catch{alert("Failed to approve.")}},children:"Approve Only"}),t.jsx("button",{className:"calendar-btn-secondary",type:"button",onClick:async()=>{try{await g.update(a.id,{status:"declined"});const r=await g.getAll("?status=pending"),o=Array.isArray(r)?r:r.requests||[];y(o)}catch{alert("Failed to decline.")}},children:"Decline"})]})]},a.id)),I.length>5&&t.jsxs("div",{style:{fontSize:12,color:"#666"},children:["+ ",I.length-5," more pending..."]})]})]}):null})(),t.jsxs("div",{className:"calendar-card",children:[t.jsx("h3",{children:"Appointment Management"}),t.jsx("p",{children:"View and manage appointments, clients, and schedules."}),t.jsx("button",{className:"calendar-btn-main",onClick:()=>{j(!V),F(null),p({title:"",date:"",time:"",endTime:"",client:"",description:"",category:"",address:"",addressMeta:null})},children:V?"Cancel":"Add New Appointment"})]})]}),V&&t.jsxs("div",{className:"calendar-section",children:[t.jsx("h2",{style:{color:"#22314a",marginBottom:"1.5rem"},children:v?"Edit Appointment":"Add New Appointment"}),t.jsxs("form",{className:"calendar-form",onSubmit:e=>{if(e.preventDefault(),!i.customerId){alert("Please select a valid client from the dropdown.");return}(v?ne:ae)(e)},noValidate:!0,children:[t.jsx("input",{type:"text",placeholder:"Appointment Title",value:i.title,onChange:e=>p({...i,title:e.target.value}),required:!0,className:"calendar-input"}),t.jsxs("div",{className:"calendar-client-select",children:[t.jsx("input",{type:"text",placeholder:"Select Client",value:W||i.client,onChange:e=>{B(e.target.value),E(!0),p({...i,client:e.target.value})},onBlur:()=>{setTimeout(()=>E(!1),200)},onFocus:()=>E(!0),autoComplete:"off",required:!0,className:"calendar-input"}),te&&H.length>0&&t.jsx("div",{className:"calendar-client-dropdown",children:H.map(e=>t.jsxs("div",{className:"calendar-client-option",onClick:()=>{p({...i,client:`${e.firstName} ${e.lastName}`,customerId:e.id}),B(`${e.firstName} ${e.lastName}`),E(!1)},children:[e.firstName," ",e.lastName," ",e.company?`(${e.company})`:""]},e.id))})]}),t.jsx("input",{type:"date",value:i.date,onChange:e=>p({...i,date:e.target.value}),required:!0,className:"calendar-input"}),t.jsx(J,{label:"Start Time",value:i.time,onChange:e=>p({...i,time:e})}),t.jsx(J,{label:"End Time",value:i.endTime,onChange:e=>p({...i,endTime:e})}),t.jsxs("select",{value:i.category,onChange:e=>p({...i,category:e.target.value}),required:!0,className:"calendar-select",children:[t.jsx("option",{value:"",children:"Select a Category"}),Object.keys(Z).map(e=>t.jsx("option",{value:e,children:e},e))]}),t.jsx(he,{label:"Address/Location",value:i.address,onChange:(e,a)=>{p({...i,address:e,addressMeta:a})},placeholder:"Start typing an Australian addressâ€¦",showTip:!1}),t.jsx("textarea",{placeholder:"Description",value:i.description,onChange:e=>p({...i,description:e.target.value}),className:"calendar-textarea"}),t.jsxs("div",{className:"calendar-form-actions",children:[t.jsx("button",{className:"calendar-btn-main",type:"submit",children:v?"Update Appointment":"Add Appointment"}),t.jsx("button",{className:"calendar-btn-secondary",type:"button",onClick:()=>{j(!1),F(null)},children:"Cancel"}),v&&t.jsx("button",{className:"calendar-btn-delete",type:"button",onClick:()=>re(v),children:"Delete"})]})]})]}),t.jsxs("div",{className:"calendar-section",children:[t.jsxs("div",{className:"calendar-nav-header",children:[t.jsx("button",{onClick:()=>K(-1),className:"calendar-nav-btn",children:"â€¹ Previous"}),t.jsxs("h3",{className:"calendar-nav-title",children:[h==="monthly"&&new Intl.DateTimeFormat("en-AU",{timeZone:u,month:"long",year:"numeric"}).format(m),h==="weekly"&&`Week of ${new Intl.DateTimeFormat("en-AU",{timeZone:u,month:"short",day:"numeric",year:"numeric"}).format(m)}`,h==="daily"&&new Intl.DateTimeFormat("en-AU",{timeZone:u,weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(m)]}),t.jsx("button",{onClick:()=>K(1),className:"calendar-nav-btn",children:"Next â€º"}),t.jsxs("div",{className:"calendar-view-switcher",children:[t.jsx("button",{className:`calendar-view-btn${h==="monthly"?" active":""}`,onClick:()=>U("monthly"),type:"button",children:"Monthly"}),t.jsx("button",{className:`calendar-view-btn${h==="weekly"?" active":""}`,onClick:()=>U("weekly"),type:"button",children:"Weekly"}),t.jsx("button",{className:`calendar-view-btn${h==="daily"?" active":""}`,onClick:()=>U("daily"),type:"button",children:"Daily"})]})]}),h==="monthly"&&t.jsx("div",{className:"calendar-monthly-grid",children:oe().map((e,a)=>{const r=$(e),o=e.getMonth()===m.getMonth(),s=e.toDateString()===new Date().toDateString();return t.jsxs("div",{className:`calendar-day ${o?"":"calendar-day-muted"} ${s?"calendar-day-today":""}`,children:[t.jsx("div",{className:"calendar-day-date",children:e.getDate()}),r.map(n=>{const l=n.time&&n.endTime&&String(n.time).trim()!==""&&String(n.endTime).trim()!==""&&n.time!=="Invalid Date"&&n.endTime!=="Invalid Date";return console.log("Monthly view appointment:",n.id,"hasValidTime:",l,"time:",n.time,"endTime:",n.endTime),n}).map(n=>{const l=n.time&&n.endTime&&String(n.time).trim()!==""&&String(n.endTime).trim()!==""&&n.time!=="Invalid Date"&&n.endTime!=="Invalid Date",c=T(n.category);return t.jsxs("div",{className:"calendar-appointment",style:{backgroundColor:c.color,color:c.textColor},onClick:()=>{w(n)},children:[t.jsx("div",{className:"calendar-appointment-time",children:l?`${n.time} - ${n.endTime}`:"All Day"}),t.jsx("div",{className:"calendar-appointment-title",children:n.title})]},n.id)})]},a)})}),h==="weekly"&&t.jsxs("div",{className:"calendar-weekly-grid",children:[t.jsxs("div",{className:"calendar-time-slots",children:[t.jsx("div",{className:"calendar-time-slot-header"}),L().map((e,a)=>t.jsx("div",{className:"calendar-time-slot",children:a%4===0?e:""},e))]}),t.jsx("div",{className:"calendar-days-grid",children:le().map((e,a)=>{const r=$(e),o=e.toDateString()===new Date().toDateString();return t.jsxs("div",{className:`calendar-day ${o?"calendar-day-today":""}`,children:[t.jsx("div",{className:"calendar-day-header",children:e.toLocaleDateString("en-US",{weekday:"short",month:"numeric",day:"numeric"})}),t.jsxs("div",{className:"calendar-day-body",children:[L().map((s,n)=>t.jsx("div",{className:"calendar-time-slot"},s)),r.filter(s=>{const n=s.time&&s.endTime&&String(s.time).trim()!==""&&String(s.endTime).trim()!==""&&s.time!=="Invalid Date"&&s.endTime!=="Invalid Date";return console.log("Weekly view appointment filter:",s.id,"hasValidTime:",n,"time:",s.time,"endTime:",s.endTime),n}).map(s=>{const n=T(s.category),[l,c]=s.time.split(":").map(Number),[b,de]=s.endTime.split(":").map(Number),G=l*60+c,ce=b*60+de,me=Math.max(30,ce-G);return t.jsxs("div",{className:"calendar-appointment",style:{top:`${G}px`,height:`${me}px`,backgroundColor:n.color,color:n.textColor},onClick:()=>{w(s)},children:[t.jsxs("div",{className:"calendar-appointment-time",children:[s.time," - ",s.endTime]}),t.jsx("div",{className:"calendar-appointment-title",children:s.title})]},s.id)}),r.filter(s=>!(s.time&&s.endTime&&String(s.time).trim()!==""&&String(s.endTime).trim()!==""&&s.time!=="Invalid Date"&&s.endTime!=="Invalid Date")).map(s=>{const n=T(s.category);return t.jsx("div",{className:"calendar-appointment calendar-all-day",style:{backgroundColor:n.color,color:n.textColor,position:"relative",marginBottom:"2px",padding:"2px 4px",fontSize:"11px"},onClick:()=>{w(s)},children:t.jsx("div",{className:"calendar-appointment-title",children:s.title})},s.id)})]})]},a)})})]}),h==="daily"&&t.jsxs("div",{className:"calendar-daily-grid",children:[t.jsxs("div",{className:"calendar-time-slots",children:[t.jsx("div",{className:"calendar-time-slot-header"}),L().map((e,a)=>t.jsx("div",{className:"calendar-time-slot",children:a%4===0?e:""},e))]}),t.jsxs("div",{className:"calendar-single-day",children:[t.jsx("div",{className:"calendar-day-header",children:m.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),t.jsxs("div",{className:"calendar-day-body",children:[L().map((e,a)=>t.jsx("div",{className:"calendar-time-slot"},e)),$(m).filter(e=>{const a=e.time&&e.endTime&&String(e.time).trim()!==""&&String(e.endTime).trim()!==""&&e.time!=="Invalid Date"&&e.endTime!=="Invalid Date";return console.log("Daily view appointment filter:",e.id,"hasTime:",a,"time:",e.time,"endTime:",e.endTime,"appointmentDate:",e.appointmentDate),a}).map(e=>{const a=T(e.category),[r,o]=e.time.split(":").map(Number),[s,n]=e.endTime.split(":").map(Number),l=r*60+o,c=s*60+n,b=Math.max(30,c-l);return t.jsxs("div",{className:"calendar-appointment",style:{top:`${l}px`,height:`${b}px`,backgroundColor:a.color,color:a.textColor},onClick:()=>{w(e)},children:[t.jsxs("div",{className:"calendar-appointment-time",children:[e.time," - ",e.endTime]}),t.jsx("div",{className:"calendar-appointment-title",children:e.title}),t.jsx("div",{className:"calendar-appointment-category",children:e.category})]},e.id)}),t.jsx("div",{className:"calendar-all-day-section",style:{position:"absolute",top:"0",left:"0",right:"0",background:"#f8f9fa",borderBottom:"1px solid #dee2e6",padding:"4px"},children:$(m).filter(e=>!(e.time&&e.endTime&&String(e.time).trim()!==""&&String(e.endTime).trim()!==""&&e.time!=="Invalid Date"&&e.endTime!=="Invalid Date")).map(e=>{const a=T(e.category);return t.jsx("div",{className:"calendar-appointment calendar-all-day",style:{backgroundColor:a.color,color:a.textColor,marginBottom:"2px",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},onClick:()=>{w(e)},children:t.jsx("div",{className:"calendar-appointment-title",children:e.title})},e.id)})})]})]})]})]}),t.jsx(ge,{open:Y.open,title:"Delete Appointment",message:"Are you sure you want to delete this appointment? This action cannot be undone.",onConfirm:ie,onCancel:()=>O({open:!1,id:null})})]}):t.jsx("div",{className:"calendar-container",children:t.jsxs("div",{className:"calendar-card",style:{maxWidth:500,margin:"3rem auto",textAlign:"center"},children:[t.jsx("h1",{className:"calendar-title",children:"ðŸ”’ Calendar Access Required"}),t.jsx("p",{style:{color:"#666",marginBottom:24},children:"Please log in to access the calendar system."}),t.jsx("a",{href:"/login",className:"calendar-btn-main",children:"Go to Login Page"})]})})};export{ve as default};
