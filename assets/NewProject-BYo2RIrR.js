import{j as e,p as C}from"./index-BjU6Wv_-.js";import{u as w,b as s}from"./vendor-Dd4J3GVN.js";const D=()=>{const m=w(),[r,x]=s.useState({projectName:"",projectCode:"",clientName:"",clientAddress:"",requestDate:"",dueDate:"",priority:"Medium",status:"Planning",requestedBy:"",description:""}),[a,o]=s.useState(!1),[c,p]=s.useState(null),[i,u]=s.useState([]),[l,h]=s.useState(""),n=t=>{const{name:d,value:b}=t.target;x(v=>({...v,[d]:b}))},j=()=>{l.trim()!==""&&(u([...i,{id:Date.now(),description:l,status:"Pending"}]),h(""))},g=t=>{u(i.filter(d=>d.id!==t))},y=async t=>{t.preventDefault(),o(!0),p(null);try{await C.create(r),m("/projects")}catch(d){p(d.message||"Failed to create project"),o(!1)}};return e.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[e.jsx("h1",{style:{color:"#22314a",marginBottom:"2rem"},children:"Add New Project"}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{children:"Project Name"}),e.jsx("input",{type:"text",name:"projectName",value:r.projectName,onChange:n,required:!0,style:{width:"100%",padding:"0.5rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Project Code"}),e.jsx("input",{type:"text",name:"projectCode",value:r.projectCode,onChange:n,required:!0,style:{width:"100%",padding:"0.5rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Client Name"}),e.jsx("input",{type:"text",name:"clientName",value:r.clientName,onChange:n,required:!0,style:{width:"100%",padding:"0.5rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Client Address"}),e.jsx("input",{type:"text",name:"clientAddress",value:r.clientAddress,onChange:n,required:!0,style:{width:"100%",padding:"0.5rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Request Date"}),e.jsx("input",{type:"date",name:"requestDate",value:r.requestDate,onChange:n,required:!0,style:{width:"100%",padding:"0.5rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",name:"dueDate",value:r.dueDate,onChange:n,required:!0,style:{width:"100%",padding:"0.5rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Priority"}),e.jsxs("select",{name:"priority",value:r.priority,onChange:n,style:{width:"100%",padding:"0.5rem"},children:[e.jsx("option",{children:"Low"}),e.jsx("option",{children:"Medium"}),e.jsx("option",{children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:r.status,onChange:n,style:{width:"100%",padding:"0.5rem"},children:[e.jsx("option",{children:"Planning"}),e.jsx("option",{children:"In Progress"}),e.jsx("option",{children:"On Hold"}),e.jsx("option",{children:"Completed"}),e.jsx("option",{children:"Cancelled"})]})]}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{children:"Requested By"}),e.jsx("input",{type:"text",name:"requestedBy",value:r.requestedBy,onChange:n,required:!0,style:{width:"100%",padding:"0.5rem"}})]}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{name:"description",value:r.description,onChange:n,rows:"4",style:{width:"100%",padding:"0.5rem"}})]})]}),e.jsx("h2",{style:{color:"#22314a",marginTop:"2rem",marginBottom:"1rem"},children:"Jobs"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("input",{type:"text",placeholder:"New job description",value:l,onChange:t=>h(t.target.value),style:{flex:1,padding:"0.5rem"}}),e.jsx("button",{type:"button",onClick:j,style:{background:"#5cb85c",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"Add Job"})]}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Description"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Status"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Actions"})]})}),e.jsx("tbody",{children:i.map(t=>e.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[e.jsx("td",{style:{padding:"0.5rem"},children:t.description}),e.jsx("td",{style:{padding:"0.5rem"},children:t.status}),e.jsx("td",{style:{padding:"0.5rem"},children:e.jsx("button",{type:"button",onClick:()=>g(t.id),style:{background:"#dc3545",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",cursor:"pointer"},children:"Remove"})})]},t.id))})]}),e.jsx("button",{type:"submit",disabled:a,style:{background:"#22314a",color:"white",padding:"0.75rem 1.5rem",border:"none",borderRadius:"4px",cursor:"pointer"},children:a?"Creating...":"Create Project"}),c&&e.jsx("p",{style:{color:"red",marginTop:"1rem"},children:c})]})]})};export{D as default};
