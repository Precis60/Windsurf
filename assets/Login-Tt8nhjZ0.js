import{a as g,j as e}from"./index-i57Nd5YW.js";import{b as i,u as h}from"./vendor-DPLMwiL-.js";const S=({onLogin:u})=>{const[s,m]=i.useState({email:"",password:""}),[l,a]=i.useState(""),[d,b]=i.useState(null),[t,c]=i.useState(!1),n=h();i.useEffect(()=>{const r=g.getCurrentUser?.()||null;if(r){const o=r.role;n(o==="admin"||o==="staff"?"/portal":"/client-portal")}},[]);const p=r=>{m({...s,[r.target.name]:r.target.value}),a("")},f=async r=>{r.preventDefault(),c(!0),a("");try{const o=await g.login(s.email,s.password);b(o.user),u(o);const x=o?.user?.role;n(x==="admin"||x==="staff"?"/portal":"/client-portal")}catch(o){a(o.message||"Login failed. Please check your credentials.")}finally{c(!1)}};return e.jsx("div",{style:{minHeight:"80vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:e.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",width:"100%",maxWidth:"400px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("h1",{style:{color:"#22314a",marginBottom:"10px",fontSize:"28px"},children:"üîê Secure Login"}),e.jsx("p",{style:{color:"#666",margin:0,fontSize:"16px"},children:"Access your secure business portal"})]}),l&&e.jsx("div",{style:{background:"#fee",border:"1px solid #fcc",color:"#c33",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:l}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#22314a",fontWeight:"500"},children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:p,required:!0,style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"8px",fontSize:"16px",transition:"border-color 0.3s",boxSizing:"border-box"},onFocus:r=>r.target.style.borderColor="#667eea",onBlur:r=>r.target.style.borderColor="#e1e5e9",placeholder:"admin@precisioncabling.com"})]}),e.jsxs("div",{style:{marginBottom:"25px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#22314a",fontWeight:"500"},children:"Password"}),e.jsx("input",{type:"password",name:"password",value:s.password,onChange:p,required:!0,style:{width:"100%",padding:"12px",border:"2px solid #e1e5e9",borderRadius:"8px",fontSize:"16px",transition:"border-color 0.3s",boxSizing:"border-box"},onFocus:r=>r.target.style.borderColor="#667eea",onBlur:r=>r.target.style.borderColor="#e1e5e9",placeholder:"Enter your password"})]}),e.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"14px",background:t?"#ccc":"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:t?"not-allowed":"pointer",transition:"background-color 0.3s",marginBottom:"20px"},onMouseOver:r=>{t||(r.target.style.background="#5a67d8")},onMouseOut:r=>{t||(r.target.style.background="#667eea")},children:t?"Signing In...":"Sign In"})]}),e.jsxs("div",{style:{background:"#f8f9fa",padding:"20px",borderRadius:"8px",marginTop:"20px"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#22314a",fontSize:"16px"},children:"Default Admin Account:"}),e.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#666"},children:[e.jsx("strong",{children:"Email:"})," admin@precisioncabling.com"]}),e.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#666"},children:[e.jsx("strong",{children:"Password:"})," Admin123!"]}),e.jsx("p",{style:{margin:"10px 0 0 0",fontSize:"12px",color:"#999"},children:"‚ö†Ô∏è Change this password after first login"})]}),d&&e.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeeba"},children:[e.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:"Debug Info: User Object"}),e.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-all",fontSize:"12px"},children:JSON.stringify(d,null,2)})]}),e.jsx("div",{style:{textAlign:"center",marginTop:"20px",padding:"15px",background:"#e8f5e8",borderRadius:"8px",border:"1px solid #4caf50"},children:e.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#2e7d32"},children:["üîí ",e.jsx("strong",{children:"Enterprise Security:"})," Your data is encrypted and secure"]})})]})})};export{S as default};
